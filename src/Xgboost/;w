-- https://wiki.haskell.org/CPlusPlus_from_Haskell
-- However, we use the C interface to Xgboost.

module Xgboost.Foreign ( 
  xgboostGetLastError,
  xgboostMatrixCreateFromMat,
  xgboostMatrixNumRow,
  xgboostMatrixNumCol
) where

import qualified Foreign
import Foreign.C
import Foreign.Ptr

type DMatrixHandle = Ptr (Ptr ())

foreign import ccall "XGBGetLastError"
  xgboostGetLastError :: CString -> IO CInt

foreign import ccall "XGDMatrixCreateFromFile"
  xgboostMatrixCreateFromFile :: (Ptr CFloat) -> CInt -> CULong -> CFloat -> DMatrixHandle -> IO CInt

foreign import ccall "XGDMatrixCreateFromMat"
  xgboostMatrixCreateFromMat :: (Ptr CFloat) -> CULong -> CULong -> CFloat -> (Ptr (Ptr ())) -> IO CInt

foreign import ccall "XGDMatrixNumRow"
  xgboostMatrixNumRow :: (Ptr ()) -> (Ptr CULong) -> IO CInt

foreign import ccall "XGDMatrixNumCol"
  xgboostMatrixNumCol :: (Ptr ()) -> (Ptr CULong) -> IO CInt

foreign import ccall "test.c test"
  test :: CInt -> IO CInt


